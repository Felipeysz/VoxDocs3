<!-- File: Views/Offline.cshtml -->
@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <title>Offline • VoxDocs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Material Symbols Outlined -->
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <!-- Google Fonts - Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <!-- Custom CSS -->
  <link href="~/css/styleOffline.css" rel="stylesheet" />
</head>
<body>
  <div class="offline-container">
    <h1>Você está offline</h1>
    <p>Algumas funcionalidades não estão disponíveis sem conexão.</p>
    <p>Você será redirecionado para seus documentos salvos em breve.</p>

    <div class="countdown">
      Redirecionando em <span id="timer">5</span>s...
    </div>

    <a id="btnRedirect"
       href="@Url.Action("DocumentosExibirOffline", "DocumentosMvc")"
       class="btn-redirect">
      <span class="material-symbols-outlined">download</span>
      Ir para Documentos Salvos
    </a>
  </div>

  <script>
    // Countdown script
    let sec = 5;
    const el = document.getElementById('timer');
    const redirectUrl = document.getElementById('btnRedirect').href;

    const intervalId = setInterval(() => {
      sec--;
      el.textContent = sec;
      if (sec <= 0) {
        clearInterval(intervalId);
        window.location.href = redirectUrl;
      }
    }, 1000);
  </script>
</body>
</html>